"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{2377:(e,t,l)=>{l.r(t),l.d(t,{AuthContext:()=>n,default:()=>o});var a=l(5155),s=l(2115);let n=(0,s.createContext)(),o=e=>{let{children:t}=e,[l,o]=(0,s.useState)(null),[r,u]=(0,s.useState)(()=>{if(!window.localStorage)return null;let e=window.localStorage.getItem("IS_LOGGED_IN");return null!==e&&JSON.parse(e)}),c=(0,s.useCallback)(async()=>{let e=await (await fetch("https://api.noderent.pro/sessionInfo",{method:"GET",credentials:"include"})).json();"success"===e.status?(o(e.user_data),localStorage.setItem("IS_LOGGED_IN","true")):(o(null),u(!1),localStorage.setItem("IS_LOGGED_IN","false"))},[]),i=(0,s.useCallback)(()=>{o(null),u(!1),localStorage.setItem("IS_LOGGED_IN","false"),window.location.href="/"},[]);return(0,s.useEffect)(()=>{c()},[]),(0,a.jsx)(n.Provider,{value:{user:l,logout:i,isLoggedIn:!!l||r},children:t})}}}]);